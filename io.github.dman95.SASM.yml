---
app-id: io.github.dman95.SASM

runtime: org.kde.Sdk
runtime-version: '5.15'
sdk: org.kde.Sdk

command: 'sasm'

finish-args:
  - --socket=wayland
  - --device=dri
  - --socket=fallback-x11
  - --share=ipc
  - --allow=multiarch
  - --allow=devel
  - --filesystem=xdg-documents

modules:
  - name: SASM
    buildsystem: qmake
    sources:
      - type: git
        url: https://github.com/Dman95/SASM.git
        branch: v3.12.1
        commit: 7e3ae6da1c219a68e26d38939338567e5c27151a
      # sent upstream: https://github.com/Dman95/SASM/pull/160
      - type: patch
        use-git: true
        path: patches/0001-remove-binaries.patch
      - type: patch
        use-git: true
        path: patches/0002-Deduplicate-Linux-and-BSD-into-Unix.patch
